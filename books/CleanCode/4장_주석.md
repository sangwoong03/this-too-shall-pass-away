# 4장 주석

> 잘 달린 주석은 유용한 정보이다. 경솔하고 근거가 없는 주석은 코드를 이해하기 어렵게 만든다.
> 오래되고 조잡한 주석은 잘못된 주석을 전달한다.

`Clean Code`에서는 주석이 불필요하다고 주장합니다. 주석이 오래될 수록 원래의 코드와 거리가 생긴다고 주장합니다. 이에 개발자들이 코드를 수정해도 주석을 하지 않는 것을 가장 큰 이유로 꼽는 것 같습니다.

## 코드로 의미를 전달하라.

개발 멘토링을 할 때 아래와 같은 코드리뷰 멘토링을 했던 경험이 있습니다. `Clean Code` 저자가 내 코드리뷰 커멘트를 봤어야 했는데,,🤔

```
1. 지금 당장 사용하지 않는 코드가 주석처리가 되어 있는데, 추후 작업을 할 떄 오히려 혼란을 줄 수 있을 것 같습니다. 삭제하는 것은 어떨까요?
2. 해당 코드를 주석처리 한 이유가 무엇일까요?
3. 코드에 대해 주석으로 설명을 해주셨는데, 코드로도 이미 충분히 의미가 잘 전달되도록 잘 작성해주신 것 같아요. 설명 주석은 코드를 수정할 때 같이 신경써야 하니 오히려 지우는 것이 더 좋겠네요!
```

이처럼 저도 주석은 불필요한 것이라고만 여겼습니다.

`하 지 만`  
아래 두가지의 이유로 실무에서는 주석이 어느정도는 필요한 것 같다고 생각이 들었습니다.  
주석이 없다면, 이와 관련된 Swagger나 API 문서를 열심히 작성해야하는 수고가 있을 수도 있습니다.

- 코드를 온전히 깔끔하게 작성할 수 없다.
- 코드의 히스토리가 반드시 필요한 작업일 것 같다.

## 좋은 주석이란?

`Clean Code`에서는 주석이 필요한 경우를 다음과 같이 말하고 있습니다.  
그럼에도 일부 항목은 변수나 함수명을 수정하거나 코드의 구조를 변경하여 주석을 필요 없게 만드는 방식이 더 좋다고 설명합니다.

- 법적 설명이 추가된 주석
- 코드에 대한 정보를 제공하는 주석
- 코드의 의도를 설명하는 주석
- 의미가 애매한 인수, 변수, 반환값에 대한 설명이 담긴 주석
- 다른 개발자에게 코드의 경고를 설명하는 주석
- 이후 작업이 재요구되는 주석
- 코드의 중요성을 강조하는 주석

## 나쁜 주석이란?

첫 단락에서도 설명을 했지만, 전달 의미가 명확하지 않거나 코드로도 설명할 수 있는 내용을 주석으로 작성하는 방식에 대해 좋은 방법이 아니라고 설명합니다.  
`Clean Code`에서 설명하는 좋지 않은 주석은 다음과 같습니다.:

- 개발자가 수동적으로 작성하여 중요도나 의미가 전달이 되지 않는 주절거리는 주석
- 코드로 전달하는 이야기를 중복으로 전달하는 주석
- 코드의 이력을 기록하는 주석 -> Git을 사용한다면 주니어들은 본 적이 없을 수도...
- 코드의 내용과 주석의 내용이 달라 오해 소지가 있는 주석

## 어떻게 하면 주석을 잘 활용할 수 있을까?

주석을 잘 작성하는 명확한 가이드나 기준은 없습니다.  
팀마다 주석을 작성하는 문화가 다를 것이고, 스타일도 다를 것입니다.

그래도 우리가 분명히 해야하는 것은 `주석은 정보를 전달하는 보조 수단이다.`라는 것입니다.

아래 각 항목들의 전제는 코드가 가장 깔끔하고 명료한 상태라고 가정을 해보겠습니다.

### ✔️ 여러 개발자와 협업을 한다면?

- 코드를 설명하자.
  웬만하면 코드로 처음부터 끝까지 설명하는 게 가장 좋은 방법일 수는 있습니다.  
  하지만 향후 프로젝트가 종료된 이후 다른 개발자가 유지보수를 할 때, 코드의 히스토리를 좀 더 쉽게 파악할 수 있는 주석을 달아주면 좋을 것 같습니다.

```javascript
/*
  1. 첫번째 for loop에서 각 객체별 id 값이 홀수인 요소만 반환하여 기존보다 성능을 개선한다.
  2. 두번째 for loop에서 ... 조건 ...
*/
let arr = [...someArr];
arr = arr.filter((item) => item.id % 2 === 0);

let newArr = [];
for (const elem of arr) {
  // some condition
  newArr.push(elem);
}
```

- TODO 주석을 달자.
  완벽한 기획 하에 개발을 하는 것이 너무나도 좋겠지만, 당장 반영할 수 없는 코드가 존재할 수도 있습니다.  
  지금 작업에 대한 내용을 주석으로 설명한 다음, 개선 방향성 혹은 기획 반영에 대한 내용을 주석으로 표시해둘 수 있을 것 같습니다.

```javascript
/*
  초기 기획 단계에서 OO이슈로 일부 기능을 적용하지 못한 채 개발 완료.
  향후 OO이슈에 대한 법적 절차 이후 수정 필요.
*/
const code = // ... some codes!
```

### 1인 개발을 한다면?

1인 개발을 할 경우, `포트폴리오 목적`의 사이드 프로젝트를 진행하는 경우를 전제하여 정리해보겠습니다.

- 코드를 작성할 때의 내 생각을 정리해보자.
  세부적인 기획이 없는 당시, 기획자이지 개발자인 나의 개발 생각과 플로우를 작성해보자.
  물론 코드에도 녹여낼 수 있고, Git commit message를 통해서도 충분히 이전 이력을 확인할 수 있습니다.
  포트폴리오를 정리할 때 더 효율적으로 나의 개발 일지를 구축할 수 있는 좋은 도구로 사용될 수 있을 것 같습니다.

- 코드를 설명하자. (위와 동일)

- TODO 주석을 달자. (위와 동일)
  한가지만 추가해보자면, 앞으로 내가 개선하고 싶은 내용을 포트폴리오 주석을 통해 메모를 하고, 실제 그 주석을 지워나감으로써 하나의 지표로 자리잡을 수 있을 것 같다는 생각이 들었습니다.

### ⭐️ 개인적인 의견

> 주석이 없는 게 가장 깔끔하긴 하다.  
> 주석으로 팀에게 무언가를 공유할 것이라면 이미 문서나 기획 단계에서 공유가 되는 것이 더 올바르다.  
> 문서가 주석으로만 이루어졌다면, 주석을 잘 작성하도록 모든 팀원이 신경써야 할 것이다.
