# 클래스

> 코드의 표현과 함수 작성을 아무리 깔끔하게 해도 차원이 높은 단계까지 신경쓰지 않으면 깨끗한 코드를 얻기 어렵다.

마침 `Nest.JS`로 스택을 전환하면서 Class에 대해 공부를 해야하는 시점이었습니다. 아주 잘 만났다.

우선! `클래스(Class)`는 `객체 지향 프로그래밍 (Object-Oriented Programming, OOP)`에서 중요한 개념 중 하나입니다. 데이터와 데이터를 다루는 메서드(함수)를 함께 묶어서 정의한 사용자 정의 데이터 형식이라고 정의할 수 있습니다. 클래스는 객체(인스턴스)를 생성하는 템플릿 또는 설계도 역할을 합니다. 클래스는 객체의 속성(데이터, 상태)와 동작(메서드, 함수)을 정의하며, 객체의 특성과 행위를 추상화하여 모델링하는 데 사용되고 있습니다.

사실 이렇게 설명하고 Class를 공부하면 정말 어렵습니다.  

개발 공부가 그렇듯 개념과 실제 코드를 작성하고 동작하는 원리를 같이 훑어보아야 그제서야 느낌이 오고, 그 느낌이 개념으로 다시 자리잡는 과정이 필요할 것 같습니다.
그런 의미에서 Class에 대해 조금 많이 곱씹어보고 코드도 많이 작성해봐야겠습니다.

### ✔️ 클래스의 크기
클래스의 크기는 작아야 합니다. 작은 클래스는 이해하고 테스트하기 쉽습니다. 클래스가 커지면 코드를 파악하기 어려워지며, 버그를 찾고 수정하는데 어려움을 겪을 수 있습니다.

### ✔️ 캡슐화 (Encapsulation)
데이터와 코드를 외부에 노출할 필요가 없습니다. 클래스로 묶어서 외부에서 직접 접근하거나 수정하지 못하게 하는 것을 `캡슐화`라고 합니다. 클래스의 메서드를 통해 내부 데이터에 접근하고 조작할 수 있고 이를 통해 코드의 안정성을 높이고 데이터의 무결성을 보호하며, 객체의 내부 구현을 숨길 수 있습니다.

### ✔️ 단일 책임 원칙 (SRP, Single Responsibility Priciple)
클래스는 단일 책임 원칙(Single Responsibility Principle, SRP)을 따라야 합니다. 클래스는 하나의 명확한 `역할` 또는 `책임`을 가져야 하며, 이것은 클래스의 변경을 이유 있게 만듭니다.

### ✔️ 응집도 (Cohesion)
클래스와 변수는 논리적인 단위로 묶여있다고 할 수 있습니다. 응집도가 높다는 말은 클래스에서 사용하는 메서드와 변수가 서로 의존하고 논리적인 단위로 엮여있다는 것을 의미합니다. 변수가 많아진다면 클래스를 분리해보는 것을 추천하고 있습니다.

### ✔️ 낮은 테스트 결합도
클래스와 테스트의 결합도를 낮추면 낮출 수록 유연성과 재사용성이 높아집니다. 이는 곧 추상화라는 개념과 이어집니다.

추상화는 객체의 공통 특성을 정의하여 유사한 동작을 추상화된 형태로 나타내는데 사용됩니다.

간단한 예를 들면, 아래 두 클래스의 공통 특성을 추상 클래스인 `Car`로 표현할 수 있습니다.
```javascript
class ElectronicCar { }

class HydrogenCar { }
```

아래처럼 `Car`라는 클래스를 상속 받아 사용하면, 공통인 메서드를 수정하거나 테스트하기 용이해지고, 시스템을 확장하기도 쉬워집니다.
```javascript
class Car { }

class ElectronicCar extends Car { }
class HydrogenCar extends Car { }
```

### ✨ 결론

- Nest.JS 공부하면서 OOP, 디자인 패턴에 대해서도 더 알아보자.
- 반드시 OOP를 알아야 하는 것은 아니지만, 모를 필요도 없잖아?
- 하나의 책임을 갖는 작은 class를 만들자.